(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cca683b2"],{1379:function(e,t,s){},"404e":function(e,t,s){"use strict";s("1379")},a075:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dbhc"},[t("header",[e._v(" 服务记录（走访） ")]),t("main",[t("van-search",{attrs:{"show-action":"",placeholder:"请输入姓名/身份证号码"},on:{search:e.onSearch},scopedSlots:e._u([{key:"action",fn:function(){return[t("div",{on:{click:e.onSearch}},[e._v("搜索")])]},proxy:!0}]),model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),t("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[t("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.items,(function(s,a){return t("div",{key:a,staticClass:"hc",on:{click:function(t){return e.routerPush(s.arv_id)}}},[t("div",{staticClass:"hcHeader"},[t("div",{staticClass:"hcHeader1"},[t("div",{staticClass:"circle",style:{backgroundColor:s.bgcolor}}),t("div",{staticStyle:{color:"#333333"}},[e._v(e._s(s.arv_ex1)+"("+e._s(s.arv_ex8)+")")])])]),t("div",{staticClass:"hcHeader2"},[t("div",[e._v("联系电话："+e._s(s.arv_ex5))])]),t("div",{staticClass:"hcHeader3"},[e._v("现住地："+e._s(s.arv_ex3))]),t("div",{staticClass:"hcHeader3"},[e._v("是否走访："+e._s(s.arv_ex19))]),t("div",{staticClass:"hcHeader4"},[e._v("申请日期："+e._s(e._f("formatDate")(s.arv_dat2)))])])})),0)],1)],1),t("van-button",{staticStyle:{width:"90%",position:"fixed",bottom:"20px"},attrs:{type:"info",block:"",to:"Dqzf?sId=&type="+this.$route.query.stype+"&ab_ex100=Y"}},[e._v("新增走访")])],1)},i=[],r=s("b775");let o=e=>Object(r["a"])({method:"post",url:"/social/assistanceWeixin/getRegularVisits",data:e}),n=e=>Object(r["a"])({method:"post",url:"/social/assistanceWeixin/WXListByPage?stype=定期走访",data:e,headers:{token:sessionStorage.getItem("token")}});var c={name:"hc",data(){return{items:[],page:1,bgcolor:"#bcbcbc",loading:!1,finished:!1,refreshing:!1,searchValue:"",sid:""}},methods:{async loadData(e){try{const t=await n(e);t.length<10&&(this.finished=!0),this.items=[...this.items,...t],e.ab_ex3?this.key=e.ab_ex3:this.key="",this.page=(+this.page+1).toString(),this.loading=!1}catch(error){}},onLoad(){this.refreshing&&(this.item=[],this.refreshing=!1),this.loadData({ab_ex3:this.key,page:this.page+""})},onRefresh(){this.resetInfo(),this.finished=!1,this.loading=!0,this.onLoad()},onSearch(){this.resetInfo(),this.loadData({ab_ex3:this.searchValue,page:"1"})},routerPush(e){this.$router.push({path:"/dqzf",query:{sId:e,type:this.$route.query.stype}})},resetInfo(){this.items=[],this.page="1",this.key=""},async getId(){const e=await o({id:""});this.sid=e[0].data[0].userName}},created(){this.getId()}},h=c,l=(s("404e"),s("2877")),d=Object(l["a"])(h,a,i,!1,null,"3ad81a36",null);t["default"]=d.exports},b775:function(e,t,s){"use strict";var a=s("bc3a"),i=s.n(a),r=s("a18c");let o=Object({NODE_ENV:"production",BASE_URL:"/phone/"}).baseURL;const n=i.a.create({baseURL:o,timeout:3e4});n.interceptors.request.use(e=>(sessionStorage.token&&(e.headers.token=sessionStorage.token),e),e=>{console.log(e),Promise.reject(e)}),n.interceptors.response.use(e=>"blob"==e.config.responseType?200==e.status?e:Promise.reject(error):200===e.status?e.data:407!==e.status?Promise.reject("error1"):void 0,e=>{if(console.log("err"+e),e.response)switch(e.response.data.message){case"401":console.log("token过期了，需要重新登录"),r["a"].replace({path:"/login",query:{redirect:r["a"].currentRoute.fullPath}})}return Promise.reject(e.response.data)}),t["a"]=n}}]);