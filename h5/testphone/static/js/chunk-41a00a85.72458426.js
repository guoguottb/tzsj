(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41a00a85"],{"0758":function(t,e,s){"use strict";s("bef2")},"1b8d":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("header",[t._v(" 政策查询 ")]),e("div",{staticClass:"searchBox"},[e("van-sticky",[e("van-search",{attrs:{"show-action":"",placeholder:"请输入政策文件名称",clearable:!1},on:{search:t.onSearch},scopedSlots:t._u([{key:"action",fn:function(){return[e("div",{on:{click:t.onSearch}},[t._v("搜索")])]},proxy:!0}]),model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1)],1),e("van-pull-refresh",{staticStyle:{height:"80vh"},attrs:{"success-text":"刷新成功"},on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[e("main",[0==t.list.length?e("div",[e("p",[t._v("数据为空啦！")])]):e("van-cell-group",t._l(t.list,(function(s,a){return e("van-cell",{key:a,attrs:{"is-link":""},on:{click:function(e){return t.toRoutr(s)}}},[e("span",{staticClass:"content"},[t._v(t._s(s.title))]),e("span",{staticClass:"time"},[t._v(t._s(s.time))])])})),1)],1)]),e("div",{staticClass:"footer"},[e("van-pagination",{attrs:{"total-items":t.total,"show-page-size":t.pageSize,"force-ellipses":""},on:{change:t.changePage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},i=[],o=s("b775"),l={name:"policySearch",data(){return{data:[{title:"关于明确困难残疾人生活补贴和重度残疾人护理补贴工作相关事项的通知",time:"2023-01-07"},{title:"关于对市区三、四级智力、精神残疾人发放生活补贴的通知",time:"2023-01-07"},{title:"关于做好困难残疾人生活补贴和重度残疾人护理补贴发放管理工作的通知",time:"2023-01-07"},{title:"江苏省最低生活保障工作规程",time:"2022-10-04"},{title:"市政府办公室关于印发泰州市临时救助实施办法的通知",time:"2022-10-04"},{title:"江苏省特困人员认定办法",time:"2022-10-04"},{title:"市政府办公室关于城乡居民最低生活保障特困人员供养困境儿童分类保障和重度残疾人护理补贴标准的通知",time:"2022-10-04"},{title:"市政府关于印发泰州市低收入人口认定管理办法的通知",time:"2022-10-04"}],isLoading:!1,total:"",currentPage:1,searchValue:"",pageSize:10,list:[],list2:[]}},created(){this.total=this.data.length,this.loadData()},methods:{changePage(t){console.log("换页",t),this.currentPage=t,this.loadData()},loadData(){this.list=[];let t=[];if(""==this.searchValue?(t=this.data,this.total=this.data.length):t=this.list2,10*this.currentPage<t.length)for(let e=10*(this.currentPage-1);e<10*this.currentPage;e++)this.list.push(t[e]);else for(let e=10*(this.currentPage-1);e<t.length;e++)this.list.push(t[e]);console.log(this.list,"显示数据"),console.log(t,"显示数据2"),console.log(this.data,"显示数据3"),this.isLoading=!1},onSearch(){console.log(this.searchValue,"点击搜索");let t=[];if(""!=this.searchValue)for(let e in this.data){-1!=this.data[e].title.indexOf(this.searchValue)&&t.push(this.data[e])}else this.list2=this.data;t.length,this.list2=t,this.total=t.length,this.loadData()},onCancel(){console.log(11)},onRefresh(){setTimeout(()=>{this.isLoading=!0,this.loadData()},1e3)},toRoutr(t){console.log(t),this.$router.push({path:"/policyDetail",query:{type:t.title}})},getData(t){Object(o["a"])({method:"post",url:"/social/assistanceWeixin/getPolicy",data:{type:""}}).then(t=>{console.log(t),this.data=[];for(let e in t){let s={title:""};this.data.push(s),this.data[e].title=t[e].familyType}this.isLoading=!1}).catch(t=>{this.$toast.fail("数据加载失败"),console.log(t),this.isLoading=!1})}}},n=l,r=(s("0758"),s("2877")),c=Object(r["a"])(n,a,i,!1,null,"3743484e",null);e["default"]=c.exports},b775:function(t,e,s){"use strict";var a=s("bc3a"),i=s.n(a),o=s("a18c");let l=Object({NODE_ENV:"production",BASE_URL:"/testphone/"}).baseURL;const n=i.a.create({baseURL:l,timeout:3e4});n.interceptors.request.use(t=>(sessionStorage.token&&(t.headers.token=sessionStorage.token),t),t=>{console.log(t),Promise.reject(t)}),n.interceptors.response.use(t=>"blob"==t.config.responseType?200==t.status?t:Promise.reject(error):200===t.status?t.data:407!==t.status?Promise.reject("error1"):void 0,t=>{if(console.log("err"+t),t.response)switch(t.response.data.message){case"401":console.log("token过期了，需要重新登录"),o["a"].replace({path:"/login",query:{redirect:o["a"].currentRoute.fullPath}})}return Promise.reject(t.response.data)}),e["a"]=n},bef2:function(t,e,s){}}]);